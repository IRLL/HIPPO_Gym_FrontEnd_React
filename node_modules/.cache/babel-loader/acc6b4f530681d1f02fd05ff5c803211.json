{"ast":null,"code":"import _createForOfIteratorHelper from\"/Charlie/Dropbox/Development/IRLL/hippoGym/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Charlie/Dropbox/Development/IRLL/hippoGym/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Charlie/Dropbox/Development/IRLL/hippoGym/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Charlie/Dropbox/Development/IRLL/hippoGym/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Charlie/Dropbox/Development/IRLL/hippoGym/Front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import\"antd/dist/antd.css\";import'./main.css';import axios from'axios';import{Spin}from'antd';import Header from'./components/header';import Footer from'./components/footer';import Forum from'./components/forum';import Game from'./components/game';import{RLAPI,PROJECT_ID,USER_ID}from'./utils/constants';var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formContent:\"\",userId:USER_ID,projectId:PROJECT_ID,isLoading:true,isGame:false};_this.fetchData=function(){axios.get(RLAPI,{params:{projectId:_this.state.projectId,userId:_this.state.userId}}).then(function(res){_this.setState({formContent:res.data,isLoading:false});});};_this.handleSubmit=function(event){_this.setState({isLoading:true});var form=event.target;var data={};var _iterator=_createForOfIteratorHelper(form.elements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;if(element.tagName==='BUTTON'){continue;}data[element.name]=element.value;}}catch(err){_iterator.e(err);}finally{_iterator.f();}axios.post(RLAPI,data,{params:{projectId:_this.state.projectId,userId:_this.state.userId}}).then(function(res){if(res.data===\"pre-game end\"){_this.setState({isLoading:true,isGame:true});}else{_this.setState({formContent:res.data,isLoading:false});}}).catch(function(error){console.log(error);});};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,formContent=_this$state.formContent,isGame=_this$state.isGame;var preGame=/*#__PURE__*/React.createElement(\"div\",{className:\"forumContainer\"},isLoading?/*#__PURE__*/React.createElement(Spin,{className:\"Loader\",size:\"large\",tip:\"Moving to next step, please wait ...\"}):/*#__PURE__*/React.createElement(Forum,{content:formContent,action:this.handleSubmit}));return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),!isGame?preGame:/*#__PURE__*/React.createElement(Game,null),/*#__PURE__*/React.createElement(Footer,null));}}]);return Main;}(React.Component);export default Main;","map":{"version":3,"sources":["/Charlie/Dropbox/Development/IRLL/hippoGym/Front/src/main.js"],"names":["React","axios","Spin","Header","Footer","Forum","Game","RLAPI","PROJECT_ID","USER_ID","Main","state","formContent","userId","projectId","isLoading","isGame","fetchData","get","params","then","res","setState","data","handleSubmit","event","form","target","elements","element","tagName","name","value","post","catch","error","console","log","preGame","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"antd/dist/antd.css\";\nimport './main.css';\nimport axios from 'axios';\nimport {Spin} from 'antd';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Forum from './components/forum';\nimport Game from './components/game';\nimport {RLAPI, PROJECT_ID, USER_ID} from './utils/constants';\n\nclass Main extends React.Component{\n\n    state = {\n        formContent : \"\",\n        userId : USER_ID,\n        projectId : PROJECT_ID,\n        isLoading : true,\n        isGame : false\n    }\n\n    componentDidMount(){\n        this.fetchData();\n    }\n\n    fetchData = () => {\n        axios.get(RLAPI,{\n            params : {\n                projectId : this.state.projectId,\n                userId : this.state.userId\n            }\n        }).then(res => {\n            this.setState(({\n                formContent : res.data,\n                isLoading : false\n            }))\n        })\n    }\n\n    handleSubmit = (event) => {\n        this.setState(({\n            isLoading : true\n        }))\n        const form = event.target;\n        const data = {}\n        for (let element of form.elements) {\n          if (element.tagName === 'BUTTON') { continue; }\n          data[element.name] = element.value;\n        }\n        axios.post(RLAPI,data,{\n            params : {\n                projectId : this.state.projectId,\n                userId : this.state.userId\n            }\n        }).then(res => {\n            if(res.data === \"pre-game end\"){\n                this.setState(({\n                    isLoading : true,\n                    isGame : true\n                }))\n            }else{\n                this.setState(({\n                    formContent : res.data,\n                    isLoading : false\n                }))\n            }\n        }).catch(function (error) {\n            console.log(error)\n          });\n    }\n\n    render(){\n        const {isLoading,formContent,isGame} = this.state;\n\n        const preGame =   <div className=\"forumContainer\">\n                            {isLoading ? \n                            <Spin className=\"Loader\" size = \"large\" tip=\"Moving to next step, please wait ...\" /> :\n                            <Forum content={formContent} action={this.handleSubmit}/> \n                            }\n                        </div>\n                            \n        return (\n            <div>\n                <Header />\n                {!isGame ? preGame : <Game />}\n                <Footer />\n            </div>   \n        )\n    }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}